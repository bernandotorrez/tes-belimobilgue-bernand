{"version":3,"file":"static/webpack/static\\development\\pages\\news.js.c82b57ef3cd187093531.hot-update.js","sources":["webpack:///./pages/news.js"],"sourcesContent":["import Layout from '../components/MyLayout.js';\r\nimport fetch from 'isomorphic-unfetch';\r\n\r\nconst imgStyle = {\r\n  width: '100%',\r\n  height: 'auto',\r\n  maxWidth: '400px'\r\n}\r\n\r\nconst Post = props => (\r\n  <Layout>\r\n      <style jsx>{`\r\n        h1,\r\n        a {\r\n          font-family: 'Arial';\r\n        }\r\n\r\n        p {\r\n            font-family: 'Arial';\r\n        }\r\n\r\n        ul {\r\n          padding: 0;\r\n        }\r\n\r\n        li {\r\n          list-style: none;\r\n          margin: 5px 0;\r\n        }\r\n\r\n        a {\r\n          text-decoration: none;\r\n          color: blue;\r\n        }\r\n\r\n        a:hover {\r\n          opacity: 0.6;\r\n        }\r\n      `}</style>\r\n\r\n    {/* Tampilkan Berita */}\r\n    <h1>{props.headline}</h1>\r\n    <p>{props.snippet}</p>\r\n    <p>{props.paragraph}</p>\r\n    {/* Tampilkan Gambar Berita */}\r\n    <img src={props.image} style={imgStyle}/>\r\n  </Layout>\r\n);\r\n\r\nPost.getInitialProps = async function(context) {\r\n  const { id } = context.query;\r\n  \r\n  const res = await fetch(`https://api.nytimes.com/svc/search/v2/articlesearch.json?fl=headline, snippet, lead_paragraph, multimedia&fq=web_url:(\"${id}\")&api-key=WD9orPN6fmWSYmGjHaZwnZwW79Ca06xa`);\r\n  const show = await res.json();\r\n\r\n  var show_res = show.response.docs[0]\r\n  console.log(show_res)\r\n\r\n  \r\n  //console.log(`Fetched show: ${show_res.headline.main}`);\r\n\r\n  var headline = show_res.headline.main;\r\n  var snippet = show_res.snippet;\r\n  var paragraph = show_res.lead_paragraph;\r\n  \r\n  // cek apakah ada imagenya atau tidak\r\n  if(show_res.multimedia == '' || !show_res.multimedia) {\r\n    var image = 'https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg';\r\n  } else {\r\n    var image = `https://static01.nyt.com/${show_res.multimedia[0].url}`;\r\n  }\r\n\r\n  return { \r\n    headline: headline,\r\n    snippet: snippet,\r\n    paragraph: paragraph,\r\n    image: image\r\n   };\r\n};\r\n\r\nexport default Post;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AACA;AAAA;AA+BA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AApCA;AACA;AAuCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AACA;AACA;AAJA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AA8BA;;;;A","sourceRoot":""}